================================================================================
Text
================================================================================

\p{Adsf! Adfds, sadfklje, asdflkj? aldkfja. }

--------------------------------------------------------------------------------

(source_file
  (command
    (p
      (text))))

================================================================================
Subtree
================================================================================

\subtree[foo-0001]{
  \title{Hello}
  \p{World}
}

\subtree{
  \title{Hello}
  \p{World}
}


--------------------------------------------------------------------------------

(source_file
  (command
    (subtree
      (text)
      (command
        (title
          (text)))
      (command
        (p
          (text)))))
  (command
    (subtree
      (command
        (title
          (text)))
      (command
        (p
          (text))))))

================================================================================
Method call
================================================================================

\asdf#foo

--------------------------------------------------------------------------------

(source_file
  (command
    (qualified_ident
      (ident))
    (method_call
      (ident))))

================================================================================
Contributor
================================================================================

\contributor{me}

--------------------------------------------------------------------------------

(source_file
  (command
    (contributor
      (text))))

================================================================================
Meta
================================================================================

\meta{external}{https://github.com/kentookura}

--------------------------------------------------------------------------------

(source_file
  (command
    (meta
      (text)
      (text))))

================================================================================
Tags
================================================================================

\tag{foo}
\tag{baz-bar}

--------------------------------------------------------------------------------

(source_file
  (command
    (tag
      (text)))
  (command
    (tag
      (text))))

================================================================================
Author
================================================================================

\author{Kento Okura}

--------------------------------------------------------------------------------

(source_file
  (command
    (author
      (text))))

================================================================================
Import
================================================================================

\import{asd-053X}

--------------------------------------------------------------------------------

(source_file
  (command
    (import
      (text))))

================================================================================
Export
================================================================================

\export{asd-053X}

--------------------------------------------------------------------------------

(source_file
  (command
    (export
      (text))))

================================================================================
Date
================================================================================

\date{2023-02-08T12:03:12Z}
\date{2023-02-08}

--------------------------------------------------------------------------------

(source_file
  (command
    (date
      (text)))
  (command
    (date
      (text))))

================================================================================
Title
================================================================================

\title{My Title}

--------------------------------------------------------------------------------

(source_file
  (command
    (title
      (text))))

================================================================================
Transclusion
================================================================================

\transclude{nvm-0002}

--------------------------------------------------------------------------------

(source_file
  (command
    (transclude
      (text))))

================================================================================
Ident
================================================================================

\p{\foo{asdf}}

--------------------------------------------------------------------------------

(source_file
  (command
    (p
      (command
        (qualified_ident
          (ident))
        (text)))))

================================================================================
Inline Math
================================================================================

\p{
    #{E}
}

--------------------------------------------------------------------------------

(source_file
  (command
    (p
      (inline_math
        (verbatim)))))

================================================================================
Display Math
================================================================================

\p{
    ##{E}
}

--------------------------------------------------------------------------------

(source_file
  (command
    (p
      (text)
      (inline_math
        (verbatim)))))

================================================================================
Math Text
================================================================================

\p{
    ##{E}
}
\p{
  ##{E} asdf #{asdf}
}

\p{
  ##{E}, texttexttext #{textext}, textext.
}
--------------------------------------------------------------------------------

(source_file
  (command
    (p
      (text)
      (inline_math
        (verbatim))))
  (command
    (p
      (text)
      (inline_math
        (verbatim))
      (text)
      (inline_math
        (verbatim))))
  (command
    (p
      (text)
      (inline_math
        (verbatim))
      (text)
      (inline_math
        (verbatim))
      (text))))

================================================================================
Math Commands
================================================================================

\p{
  ##{\f\relax{x} = \int_{-\infty}^\infty
  \f\hat\xi\,e^{2 \pi i \xi x}
  \,d\xi}

}
--------------------------------------------------------------------------------

(source_file
  (command
    (p
      (text)
      (inline_math
        (verbatim)))))

================================================================================
Comment
================================================================================

% lorem ipsum

--------------------------------------------------------------------------------

(source_file
  (comment))

================================================================================
Function Definition
================================================================================

\def\foo[x][y][z]{
\p{\x \y \z}
\transclude{foo-0001}
}

--------------------------------------------------------------------------------

(source_file
  (command
    (def
      (fun_spec
        (qualified_ident
          (ident))
        (ident)
        (ident)
        (ident)
        (verbatim)))))

================================================================================
Prim
================================================================================

\p{
  [asdf](foo-0001)
  \ul{
      \li{[[asdf/asdf.pdf]]}
      }
    [asdf](foo-0001)

  }

--------------------------------------------------------------------------------

(source_file
  (command
    (p
      (markdown_link
        (text)
        (text))
      (command
        (ul
          (command
            (li
              (unlabeled_link
                (text))))))
      (markdown_link
        (text)
        (text)))))

================================================================================
Scope
================================================================================


\scope{
  \put\transclude/title{featured talks}
}

--------------------------------------------------------------------------------

(source_file
  (command
    (scope
      (command
        (put
          (command
            (qualified_ident
              (ident)
              (ident_path
                (ident)))
            (text)))))))

================================================================================
Query
================================================================================

\def\query/bibliography[x]{
 \open\query
 \isect{
  \union-fam-rel{\transclusion-coslice{\x}}{\edges}{\outgoing}{\rel/links}
 }{
  \taxon{reference}
 }
}

--------------------------------------------------------------------------------

(source_file
  (command
    (def
      (fun_spec
        (qualified_ident
          (ident)
          (ident_path
            (ident)))
        (ident)
        (verbatim)))))

================================================================================
Objects
================================================================================

\def\my-object{
  \object[self]{
    [method1]{
      the implementation of this method
    }
    [method2]{
      the implementation of another method
      \self#method1
    }
  }
}

--------------------------------------------------------------------------------

(source_file
  (command
    (def
      (fun_spec
        (qualified_ident
          (ident))
        (verbatim)))))

================================================================================
Patch
================================================================================

\patch{\my-object}[self]{
  [method1]{
    \self/super#method1
    some further code
  }
}

--------------------------------------------------------------------------------

(source_file
  (command
    (patch
      (qualified_ident
        (ident))
      (ident)
      (method_decl
        (ident)
        (verbatim)))))

================================================================================
XML
================================================================================

\xmlns:mml{http://www.w3.org/1998/Math/MathML}
\def\math[body]{\<mml:math>{\body}}
\def\mrow[body]{\<mml:mrow>{\body}}
\def\mi[x]{\<mml:mi>{\x}}
\def\mo[o]{\<mml:mo>{\o}}
\def\mn[n]{\<mml:mn>{\n}}

--------------------------------------------------------------------------------

(source_file
  (xmlns_decl
    (ident)
    (text))
  (command
    (def
      (fun_spec
        (qualified_ident
          (ident))
        (ident)
        (verbatim))))
  (command
    (def
      (fun_spec
        (qualified_ident
          (ident))
        (ident)
        (verbatim))))
  (command
    (def
      (fun_spec
        (qualified_ident
          (ident))
        (ident)
        (verbatim))))
  (command
    (def
      (fun_spec
        (qualified_ident
          (ident))
        (ident)
        (verbatim))))
  (command
    (def
      (fun_spec
        (qualified_ident
          (ident))
        (ident)
        (verbatim)))))

================================================================================
Full
================================================================================

\title{My Title}
\p{hello}
\transclude{nvm-0002}
\p{
    \ul{
        \li{asdf}
        \li{foobar}
      }
  [asdf](foo-0001) [[foo-0001]]
  \code{asdlfkjasfd}
}

\block{
  [asdf](foo-0001) [[foo-0001]]
  \code{asdlfkjasfd}
  }{foo}

\def\my-object{
  \object[self]{
    [method1]{
      the implementation of this method
    }
    [method2]{
      the implementation of another method
      \self#method1
    }
  }
}

\patch{\my-object}[self]{
  [method1]{
    \self/super#method1
    some further code
  }
}

\table{
  \row{[forester query ](gld-0008)}{[[https://git.sr.ht/~kentookura/ocaml-forester/tree/nvim-support]]}
  \row{[forester-lsp](gld-0003)}{[[https://git.sr.ht/~kentookura/ocaml-forester/tree/lsp]]}
  \row{[more/better output ](gld-0007)}{N.A.}
  \row{[richer interactivity ](gld-0006)}{N.A.}
  \row{[pandoc filter](gld-000C)}{N.A.}
}




\scope{
  \put\transclude/titly{featured talks}
  \query{
    \query/author{jonmsterling}
  }
}

--------------------------------------------------------------------------------

(source_file
  (command
    (title
      (text)))
  (command
    (p
      (text)))
  (command
    (transclude
      (text)))
  (command
    (p
      (command
        (ul
          (command
            (li
              (text)))
          (command
            (li
              (text)))))
      (markdown_link
        (text)
        (text))
      (unlabeled_link
        (text))
      (command
        (code
          (text)))))
  (command
    (qualified_ident
      (ident))
    (markdown_link
      (text)
      (text))
    (unlabeled_link
      (text))
    (command
      (code
        (text)))
    (text))
  (command
    (def
      (fun_spec
        (qualified_ident
          (ident))
        (verbatim))))
  (command
    (patch
      (qualified_ident
        (ident))
      (ident)
      (method_decl
        (ident)
        (verbatim))))
  (command
    (qualified_ident
      (ident))
    (command
      (qualified_ident
        (ident))
      (markdown_link
        (text)
        (text))
      (unlabeled_link
        (text)))
    (command
      (qualified_ident
        (ident))
      (markdown_link
        (text)
        (text))
      (unlabeled_link
        (text)))
    (command
      (qualified_ident
        (ident))
      (markdown_link
        (text)
        (text))
      (text))
    (command
      (qualified_ident
        (ident))
      (markdown_link
        (text)
        (text))
      (text))
    (command
      (qualified_ident
        (ident))
      (markdown_link
        (text)
        (text))
      (text)))
  (command
    (scope
      (command
        (put
          (command
            (qualified_ident
              (ident)
              (ident_path
                (ident)))
            (text))))
      (command
        (query
          (command
            (qualified_ident
              (ident)
              (ident_path
                (ident)))
            (text)))))))
